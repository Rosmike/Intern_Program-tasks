[{"/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/App.js":"1","/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/components/AddDeviceDialog.jsx":"2","/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/views/RoomView.jsx":"3","/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/components/ConfirmDialog.jsx":"4","/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/data/allRooms.js":"5","/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/components/RoomCard.jsx":"6","/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/views/HomeView.jsx":"7","/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/components/DeviceCard.jsx":"8","/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/index.js":"9"},{"size":2516,"mtime":1611269740335,"results":"10","hashOfConfig":"11"},{"size":3920,"mtime":1611259129368,"results":"12","hashOfConfig":"11"},{"size":8439,"mtime":1611311457047,"results":"13","hashOfConfig":"11"},{"size":1422,"mtime":1611247520805,"results":"14","hashOfConfig":"11"},{"size":1489,"mtime":1611251469413,"results":"15","hashOfConfig":"11"},{"size":1803,"mtime":1611309816628,"results":"16","hashOfConfig":"11"},{"size":1489,"mtime":1611263946979,"results":"17","hashOfConfig":"11"},{"size":2561,"mtime":1611312522055,"results":"18","hashOfConfig":"11"},{"size":168,"mtime":1611066877070,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22","usedDeprecatedRules":"23"},"na8ser",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/App.js",["42","43"],"import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { HomeView } from \"./views/HomeView\";\nimport { RoomView } from \"./views/RoomView\";\nimport { allRooms } from \"./data/allRooms\";\n\nexport const ROOMS_LOCALSTORAGE_KEY = \"rooms\";\nexport const ROOMS_COPY_LOCALSTORAGE_KEY = \"roomsCopy\";\n\nconst App = () => {\n  const roomsFromLS = JSON.parse(localStorage.getItem(ROOMS_LOCALSTORAGE_KEY));\n\n  const defaultRooms = Array.isArray(roomsFromLS) ? roomsFromLS : allRooms;\n\n  const [rooms, setRooms] = useState(defaultRooms);\n  const [useRoomsFromCopy, setUseRoomsFromCopy] = useState(false);\n\n  useEffect(() => {\n    !useRoomsFromCopy &&\n      localStorage.setItem(ROOMS_LOCALSTORAGE_KEY, JSON.stringify(rooms));\n\n    setUseRoomsFromCopy(false);\n  }, [rooms]);\n\n  const addRoom = () => {\n    const newRoom = {\n      id: rooms[rooms.length - 1].id + 1,\n      name: \"New room\",\n      numberOfUsers: 0,\n      isActive: false,\n      devices: [],\n    };\n\n    setRooms([...rooms, newRoom]);\n  };\n\n  const toggleRoom = (e, roomId, isActive) => {\n    e.stopPropagation();\n    const roomsToUpdate = [...rooms];\n\n    const newValue = !isActive;\n\n    const roomToToggle = roomsToUpdate.find((room) => room.id === roomId);\n    roomToToggle.isActive = newValue;\n\n    // If new value is true go through all rooms and devices inside room and turn them on\n    if (newValue === true) {\n      const roomsCopy = JSON.parse(\n        localStorage.getItem(ROOMS_COPY_LOCALSTORAGE_KEY)\n      );\n\n      setUseRoomsFromCopy(true);\n\n      setRooms(roomsCopy);\n      // Else go through all rooms and devices inside room and turn them on is bulkToggleIsAllowed\n    } else {\n      localStorage.setItem(ROOMS_COPY_LOCALSTORAGE_KEY, JSON.stringify(rooms));\n\n      roomsToUpdate.forEach((room, roomIndex) => {\n        room.devices.forEach((device, deviceIndex) => {\n          if (device.bulkToggleAllowed) {\n            roomsToUpdate[roomIndex].devices[deviceIndex].isActive = false;\n          }\n        });\n      });\n    }\n\n    setRooms(roomsToUpdate);\n  };\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div>\n        <Switch>\n          <Route exact path=\"/\">\n            <HomeView rooms={rooms} addRoom={addRoom} toggleRoom={toggleRoom} />\n          </Route>\n          <Route path=\"/room/:roomId\">\n            <RoomView rooms={rooms} setRooms={setRooms} />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n",["44","45"],"/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/components/AddDeviceDialog.jsx",[],"/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/views/RoomView.jsx",[],"/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/components/ConfirmDialog.jsx",[],["46","47"],"/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/data/allRooms.js",[],"/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/components/RoomCard.jsx",[],"/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/views/HomeView.jsx",[],["48","49"],"/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/components/DeviceCard.jsx",[],"/Users/Mike/Desktop/Intern_Program-tasks/Task_2/smart_home/src/index.js",[],{"ruleId":"50","severity":1,"message":"51","line":2,"column":50,"nodeType":"52","messageId":"53","endLine":2,"endColumn":54},{"ruleId":"54","severity":1,"message":"55","line":23,"column":6,"nodeType":"56","endLine":23,"endColumn":13,"suggestions":"57"},{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","replacedBy":"61"},{"ruleId":"58","replacedBy":"62"},{"ruleId":"60","replacedBy":"63"},{"ruleId":"58","replacedBy":"64"},{"ruleId":"60","replacedBy":"65"},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'useRoomsFromCopy'. Either include it or remove the dependency array.","ArrayExpression",["66"],"no-native-reassign",["67"],"no-negated-in-lhs",["68"],["67"],["68"],["67"],["68"],{"desc":"69","fix":"70"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [rooms, useRoomsFromCopy]",{"range":"71","text":"72"},[828,835],"[rooms, useRoomsFromCopy]"]